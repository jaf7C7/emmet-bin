#!/usr/bin/node

import expand from 'emmet';
import readline from 'node:readline';

const argv = process.argv.slice(2);
// For configuration options, see:
// https://github.com/emmetio/emmet/blob/master/src/config.ts
const config = {
    "type": "markup",
    "options": {
        "output.indent": "    "
    }
}

if (argv.length > 0)
    argv.forEach(arg => console.log(expand(arg.trim(), config)));
else {
    const rl = readline.createInterface({
        input: process.stdin,
        output: null,
    });
    rl.on('line', (line) => {
        console.log(expand(line.trim(), config));
    }).on('close', () => {
        process.exit(0);
    });
}
